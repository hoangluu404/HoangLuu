{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/hoang_macbook/Desktop/Main/Me/website/explore/src/Player.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useSpring } from '@react-spring/core';\nimport { a } from \"@react-spring/three\";\nimport { useBox } from 'use-cannon';\nimport { useThree } from 'react-three-fiber';\n\nfunction useKey(key, cb) {\n  _s();\n\n  const callbackRef = useRef(cb);\n  useEffect(() => {\n    callbackRef.current = cb;\n  });\n  useEffect(() => {\n    function handle(event) {\n      if (event.code === key) {\n        callbackRef.current(event);\n      }\n    }\n\n    document.addEventListener('keypress', handle);\n    return () => {\n      document.removeEventListener('keypress', handle);\n    };\n  }, [key]);\n}\n\n_s(useKey, \"K/h/7jNaRWXLP/aFqUkOqhPUWKE=\");\n\nexport const Player = ({\n  position\n}, props) => {\n  _s2();\n\n  const {\n    camera\n  } = useThree();\n  const [active, setActive] = useState(0);\n  const activeRef = useRef(active);\n  activeRef.current = active;\n  const mesh = useRef(null);\n  useEffect(() => {\n    let timeout;\n\n    const toggleActive = () => {\n      timeout = setTimeout(() => {\n        setActive(Number(!activeRef.current));\n        toggleActive();\n      }, Math.random() * 2000 + 1000);\n    };\n\n    toggleActive();\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n  const {\n    spring\n  } = useSpring({\n    spring: active,\n    config: {\n      mass: 5,\n      tension: 400,\n      friction: 50,\n      precision: 0.0001\n    }\n  });\n  const scale = spring.to([0, 1], [1, 2]);\n  const rotation = spring.to([0, 1], [0, Math.PI]);\n  const color = spring.to([0, 1], [\"#50c878\", \"#e45858\"]);\n  const jump = spring.to([0, 1], [0, 10]);\n  const [ref, api] = useBox(() => ({\n    mass: 1,\n    position: position,\n    rotation: [Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 10 - 5],\n    ...props\n  }));\n  const [upDown, setUpDown] = useState(0);\n  const [leftRight, setLeftRight] = useState(0);\n  return /*#__PURE__*/_jsxDEV(a.mesh, {\n    ref: ref,\n    onAfterRender: (useKey('KeyD', () => {\n      api.velocity.set(10, 0, 0);\n    }), useKey('KeyA', () => {\n      setLeftRight(leftRight - 10);\n      api.velocity.set(x = -10);\n    }), useKey('KeyW', () => {\n      setUpDown(upDown - 10);\n      api.velocity.set(leftRight, 0, upDown);\n    }), useKey('KeyS', () => {\n      setUpDown(upDown + 10);\n      api.velocity.set(leftRight, 0, upDown);\n    }), useKey('Space', () => {\n      api.velocity.set(20 * (Math.random() - 0.5), 20 * Math.random(), 20 * (Math.random() - 0.5));\n    })),\n    onClick: () => {\n      // api.velocity.set(0,5,0)\n      if (!active) api.velocity.set(20 * (Math.random() - 0.5), 0, 20 * (Math.random() - 0.5));\n    },\n    rotation: [0, rotation, 0],\n    position: position,\n    children: [/*#__PURE__*/_jsxDEV(\"boxBufferGeometry\", {\n      attach: \"geometry\",\n      args: [1, 1, 1]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(a.meshStandardMaterial, {\n      roughness: 0.5,\n      attach: \"material\",\n      color: color\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Player, \"mGrBUZLVp9Zt2YnszlfZrw9ch5Y=\", false, function () {\n  return [useThree, useSpring, useBox, useKey, useKey, useKey, useKey, useKey];\n});\n\n_c = Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["/Users/hoang_macbook/Desktop/Main/Me/website/explore/src/Player.js"],"names":["React","useState","useEffect","useRef","useSpring","a","useBox","useThree","useKey","key","cb","callbackRef","current","handle","event","code","document","addEventListener","removeEventListener","Player","position","props","camera","active","setActive","activeRef","mesh","timeout","toggleActive","setTimeout","Number","Math","random","clearTimeout","spring","config","mass","tension","friction","precision","scale","to","rotation","PI","color","jump","ref","api","upDown","setUpDown","leftRight","setLeftRight","velocity","set","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { useSpring } from '@react-spring/core'\nimport { a } from \"@react-spring/three\"\nimport { useBox } from 'use-cannon'\nimport {useThree} from 'react-three-fiber'\n\nfunction useKey(key, cb){\n    const callbackRef = useRef(cb)\n    useEffect(()=>{\n      callbackRef.current = cb\n    })\n  \n    useEffect(()=>{\n      function handle(event){\n        if(event.code === key){\n          callbackRef.current(event)\n        }\n      }\n      document.addEventListener('keypress', handle)\n      return () => {\n        document.removeEventListener('keypress', handle)\n      }\n    }, [key])\n  }\n\nexport const Player = ({ position }, props) => {\n\n  const { camera } = useThree();\n\n    \n\n  const [ active, setActive] = useState(0)\n  const activeRef = useRef(active)\n  activeRef.current = active\n  \n  const mesh = useRef(null)\n\n  useEffect(() => {\n      let timeout\n      const toggleActive = () => {\n      timeout = setTimeout(() => {\n          setActive(Number(!activeRef.current))\n          toggleActive()\n      }, Math.random() * 2000 + 1000)\n      }\n      toggleActive()\n      return () => {\n      clearTimeout(timeout)\n      }\n  }, [])\n\n  const { spring } = useSpring({\n      spring: active,\n      config: { mass: 5, tension: 400, friction: 50, precision: 0.0001 }\n  })\n\n  const scale = spring.to([0, 1], [1, 2])\n  const rotation = spring.to([0, 1], [0, Math.PI])\n  const color = spring.to([0, 1], [\"#50c878\", \"#e45858\"])\n  const jump = spring.to([0,1],[0,10])\n\n  const [ref, api] = useBox(() => ({ mass: 1, position: position, rotation:[Math.random()*10-5,Math.random()*10-5,Math.random()*10-5], ...props }))\n  \n\n  const [ upDown, setUpDown ] = useState(0)\n  const [ leftRight, setLeftRight ] = useState(0)\n\n\n  return (\n\n    <a.mesh ref={ref}\n   \n        onAfterRender={\n          useKey('KeyD', ()=>{\n\n            api.velocity.set(10,0,0)\n\n          }),\n          useKey('KeyA', ()=>{\n            setLeftRight(leftRight-10)\n            api.velocity.set(x=-10)\n\n          }),\n          useKey('KeyW', ()=>{\n            setUpDown(upDown-10)\n            api.velocity.set(leftRight,0,upDown)\n          }),\n          useKey('KeyS', ()=>{\n            setUpDown(upDown+10)\n            api.velocity.set(leftRight,0,upDown)\n          }),\n          useKey('Space', ()=>{\n            api.velocity.set(20*(Math.random()-0.5),20*Math.random(),20*(Math.random()-0.5))\n          })\n\n          \n        \n          \n      }\n        onClick={()=>{\n            // api.velocity.set(0,5,0)\n            if(!active)\n                api.velocity.set(20*(Math.random()-0.5),0,20*(Math.random()-0.5))\n\n            }} \n      rotation={[0,rotation,0]}\n      position={position}\n    >\n      <boxBufferGeometry attach=\"geometry\" args={[1, 1, 1]}/>\n      <a.meshStandardMaterial roughness={0.5} attach=\"material\" color={color}/>\n    </a.mesh>\n  )\n}"]},"metadata":{},"sourceType":"module"}